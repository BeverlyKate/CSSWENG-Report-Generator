<head>
    <title>Pending Task Per Model</title>
    <link rel="stylesheet" type="text/css" href="/css/global.css">
    <link rel="stylesheet" type="text/css" href="/css/Report.css">
</head>
<body>
    <header>
        <div class="left">
            <div id="CompanyLogo">
                <img src="/images/Btn_Logo.png">
            </div>
            <div id="ReportLogo">
                <img src="/images/IQPMLogo.png">
            </div>
            <h2>Report:</h2>
            <h3>PENDING TASK PER MODEL</h3>
        </div>
        <div class="right">
            <div class="Profile"></div>
        </div>
    </header>
    <hr class="line1">
    <hr class="line2">
    <div class="ReportBody">
        <h3>Pending tasks <span id="categoryChange"></span><span id="dateChange"></span></h3>
        <div class="table">
            <table id="statusList">
                <tr id="tableHead">
                    <th>ITEM/MODEL</th>
                    <th>Status</th>
                </tr>
            </table>
        </div>
    </div>
    <footer>
        <a href="/home">Generate Another Report</a>
    </footer>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script>
        //const repairItemModel = "{{repairItemModel}}".split(",");
        const repairTalliedQuantities = "{{repairTalliedQuantities}}".split(",");
        //console.log(repairItemModel);
        console.log(repairTalliedQuantities);

        const dateFormat = "{{date}}";
        const quart = "{{quart}}";
        const categoryName = "{{category}}";
		const itemName = "{{item}}";

        let table = document.getElementById("statusList");

        console.log("date = " + dateFormat);

        var rowCount=0;
        const rowNo = repairTalliedQuantities.length / 2;
        for(i=0; i<rowNo; i++){
            let newRow = table.insertRow(table.rows.length);

            for(j=0; j<2; j++){
                newRow.insertCell(j).innerHTML = repairTalliedQuantities[rowCount];
                rowCount++;
            }
        }

        $(document).ready(function(){
            if(quart != ""){
				$('#dateChange').text("for " + quart + " Quarter of " + dateFormat);
			}else{
				$('#dateChange').text("for " + dateFormat);
			}
			if(categoryName != ""){
				console.log(categoryName)
				$('#categoryChange').text("for " + categoryName + " ");
			}else if(itemName != ""){
				console.log(categoryName)
				$('#categoryChange').text("for " + itemName + " ");
			}
		});
    </script>
</body>